<sca-menutab menu="appconf.menu" active="'workflows'" user="user"></sca-menutab>
<div class="container-fluid">
    <div class="row">
    <div class="col-md-4" ng-repeat="(wid, workflow) in workflows">
        <div class="panel panel-default">
            <div class="panel-heading">
                <small class="pull-right text-muted">{{workflow.package.version}}</small>
                {{workflow.package.sca.label || workflow.package.name}}
            </div>
            <div class="panel-body"> 
                <p>{{workflow.package.description}}</p>
                <p>{{workflow.package.author}}</p>
                <button type="button" class="btn btn-xs" ng-click="detail(wid)"><i class="fa fa-info-circle"></i> Detail</button>
                <button type="button" class="btn btn-primary btn-xs" ng-click="create(wid)"><i class="fa fa-file"></i>&nbsp;&nbsp;Start</button>
                <!--
                <hr>
                <pre class="slide-down" ng-if="workflow.showjson">{{workflow|json}}</pre>
                <button type="button" class="btn btn-xs" ng-click="workflow.showjson = true"><i class="fa fa-download"></i> JSON</button>
                -->
            </div>
            <div class="panel-footer">
                <h5>Instances</h5>
                <ul class="list-group">
                    <li class="list-group-item" ng-repeat="(instid, inst) in workflow.insts" ng-click="openinst(wid, instid)">
                        {{inst.config.description||'Untitled'}} <small class="text-muted">{{instid}}</small>
                        <time class="pull-right">{{inst.create_date|date:'short'}}</time>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    </div><!--row-->
</div>


